---
layout: post
title: Medium - Why Flutter Uses Dart
description: >
  <a href="https://medium.com/hackernoon/why-flutter-uses-dart-dd635a054ebf">원문 - Wm Leler</a>
author: author

---

Trend 파악을 Medium 기고문 요약 포스팅 - 플러터가 다트를 사용하는 이유에 대해.

<center>
<img src="https://miro.medium.com/max/1326/1*bAUFoOPQ3gcv7y4Kdz82tw.png"/>
</center>
Flutter loves Dart
{:.figure}

많은 언어학자들은 사람이 사용하는 언어가 그들의 사고방식에 영향을 준다고 생각합니다. 같은 개념이 컴퓨터 언어에도 적용될까요? 다른 종류의 언어를 사용하는 프로그래머들은 문제를 해결하는 데 있어서 종종 근본적인 차이를 보이곤 합니다. 극단적인 예를 들자면 컴퓨터 과학자들은 더욱 구조적인 프로그램을 위해 goto 구문을 제거합니다. (소설 1984의 빅브라더가 사상범죄를 제거하기 위해 이단적인 단어를 삭제한 것과 비슷한건 아니지만 무슨 의미인지 아셨을 겁니다.)

이런 것이 다트와 플러터에서는 어떨꽈요? 꽤 많은 영향을 미칩니다. 초기 플러터 팀은 수십개의 언어를 평가하고 다트를 선택했습니다. 왜냐하면 다트가 사용자 인터페이스를 구성하는 방식이 일치했기 때문입니다.

다트는 개발자들이 플러터를 사랑하는 큰 이유입니다. 어떤 사람은 이런 트윗을 남기기도 했습니다.

<blockquote class="twitter-tweet" data-lang="ko"><p lang="en" dir="ltr"><a href="https://twitter.com/flutterio?ref_src=twsrc%5Etfw">@flutterio</a> got me to look at <a href="https://twitter.com/dart?ref_src=twsrc%5Etfw">@dart</a>, and I’m glad I took it for a spin. <a href="https://twitter.com/hashtag/Dart?src=hash&amp;ref_src=twsrc%5Etfw">#Dart</a> is an awesome language, and <a href="https://twitter.com/hashtag/flutterio?src=hash&amp;ref_src=twsrc%5Etfw">#flutterio</a> takes it even further, to mobile devices &lt;3</p>&mdash; Jordy (@Jordy_vD_) <a href="https://twitter.com/Jordy_vD_/status/950277357734162432?ref_src=twsrc%5Etfw">2018년 1월 8일</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

아래는 플러터에게 없어서는 안될 다트의 특징을 간략히 오약한 리스트 입니다.
* 다트는 사전컴파일이기 때문에 빠르고 예측가능하며 네이티브 코드라서 플러터의 거의 모든 것을 다트로 작성할 수 있게 합니다. 이것은 플러터를 빠르게 할 뿐만 아니라 위젯을 포함하여 모든 것이 수정될 수 있게 합니다.
* 다트는 빠른 개발 사이클을 위한 JIT 컴파일과 게임 체인징 워크플로우(플러터의 인기있는 상태저장 핫리로드)가 가능합니다.
* 다트는 초당 60프레임에 해당하는 자연스러운 애니메이션과 움직임을 쉽게 만들 수 있습니다. 다트는 lock이 없이도 모든 객체들의 할당과 가비지 컬렉션을 할 수 있습니다. 자바스크립트와 같이 자바스크립트는 선점 스케줄링과 메모리 공유를 피합니다. 플러터의 앱이 네이티브 코드로 컴파일 되므로 자바스크립트와 달리 느려지게 만드는 브릿지가 필요한 영역이 없습니다. 또 한 시작시간이 더욱 빠릅니다.
* 다트는 플러타가 JSX나 XML과 같은 선언적 레이아웃 언어나 레이아웃 빌더가 필요하지 않습니다. 다트는 선언적이고 프로그래밍 가능한 레이아웃이 시각화 되어 준비돼 있습니다. 그리고 모든 레이아웃이 하나의 언어에 하나의 공간에 있어서 플러터가 레이아웃을 쉽고 빠르게 만들 수 있게 합니다.
* 개발자들은 다트가 사용자에게 동적언어와 정적언어의 특정을 가지고 있으므로 특히나 더 학습하기 쉬운 언어라는 것을 알아냈습니다.

위의 특징들이 다트에만 있는 것은 아니지만 위의 특징을 모두 갖고 있기 때문에 다트는 플러터를 구현하는데 특별히 더 강력합니다. 그렇기 때문에 다트 없는 플러터의 강력함은 상상하기 어렵습니다.

나머지 이 기사에서는 플러터를 구현하는데 최적의 언어인 다트의(표준 라이브러리를 포함해서) 많은 특징에 대해 좀 더 깊게 다뤄보겠습니다.

## Compilation and execution
역사적으로 컴퓨터 언어는 두 그룹으로 분류됩니다: 정적 언어와(포트란이나 C와 같이 변수들이 컴파일 때 고정되는 타입) 동적언어(Smalltalk이나 자바스크립트와 같이 변수들이 실행시간에 변할 수 있는 언어)입니다. 정적언어는 관습적으로 하드웨어에 의해 직접적으로 실행될 수 있는 기계언어나 어셈블리 코드를 만들어 내기 위해 컴파일 됩니다. 동적언어는 기계어를 만들어내지 않고 인터프리터에 의해 실행됩니다.

물론 어떤 것이든 더욱 복잡해지기 마련이죠. 가상 머신의 컨셉이 대세가 되면서 인터프리터는 소프트웨어에서 하드웨어 장치처럼 동작하는 장점이 있었습니다. 가상 머신은 하나의 언어가 새로운 하드웨어 플랫폼으로 가기 쉬운 항구가 되었습니다. 이 경우에 가상머신에 사용되는 언어는 중간언어 였습니다. 예를 들어 자바와같은 프로그래밍 언어는 bytecode 중간언어로 번역되어 JVM에서 실행됩니다.

게다가 이제는 JIT컴파일러 까지 등장했습니다. JIT 컴파일러는 프로그램이 실행되는 동안 컴파일을 합니다. 프로그램이 만들어지는 동안에 실행되었던 원래의 컴파일러는 이제 AOT 컴파일러라고 불리게 되었습니다.

일반적으로 오직 정적언어만 AOT 컴파일로 기계어 코드가 됩니다. 왜냐하면 기계어는 일반적으로 데이터의 타입을 알아야 하고 동적 언어의 타입은 사전에 타입이 고정되지 않기 때문입니다. 그러므로 동적언어는 인터프리터가 JIT로 컴파일 됩니다.

AOT 컴파일이 개발 중에 완료되는 것은 개발 사이클을 좀 더 느리게 합니다.(프로그램을 수정하고 프로그램을 실행하여 변화된 결과를 확인하는 시간) 그러나 프로그램에서 AOT 컴파일의 결과는 좀 더 예측가능하며 실행 중에 컴파일을 멈추지 않고 분석할 수 있습니다. AOT로 컴파일된 프로그램은 실행 시간 또한 빠릅니다.(왜냐면 이미 컴파일 되어있기 때문이죠)

반대로 JIT 컴파일은 빠른 개발 사이클을 가져갈 수 있ㅋ지만 실행에는 느립니다. 특별히 JIT 컴파일러는 시작이 느린데 왜냐하면 JIT 컴파일러는 코드가 실행 될 수 있는지 분석하고 컴파일을 하기 때문입니다. 한 연구에서는 많은 사람들이 실행 시간이 몇 초 이상 걸리면 앱을 지울 것이라고 말했습니다.

이것이 배경지식에 관한 정보 들입니다. AOT와 JIT 컴파일의 장점만 모으면 정말 굉장하지 않을까요? 계속 읽어봅시다.

### Compiling and executing Dart
다트를 작업하기 전에 다트 팀의 멤버들은 동적언어(자바스크립트의 V8엔진과 Smalltalk의 Strongtalk)와 정적언어(자바의 Hotspot compiler)를 사용한 향상된 컴파일러와 가상 머신 분야의 개척자 들이었습니다. 그들은 이 경험으로 다트가 매우 유연하게 컴파일되고 실행될 수 있게 만들었습니다.

다트는 매우 희귀한(아마 주류 언어 중에는 딱 하나있는) AOT와 JIT 컴파일에 모두 적합한 언어입니다. 다트와 특별히 플러터에게는 양 쪽의 컴파일을 지원한다는 것이 매우 큰 장점이 됩니다.

JIT 컴파일은 개발 도중에 사용됩니다. 그리고 나서 앱이 릴리즈될 준비가 되면 AOT로 컴파일 되죠. 결론적으로 발전된 도구와 컴파일러의 도움으로 다트는 양 쪽의 장점만 전달할 수 있습니다: 매우 빠른 개발 사이클, 빠른 실행과 실행 시간.

다트의 실행, 컴파일 유연성은 이게 다가 아닙니다. 예를 들면 다트는 자바스크립트로 컴파일되어 브라우저에서 실행될 수도 있습니다. 이것은 모바일 앱의 코드를 웹에서도 사용할 수 있는 것이죠. 개발자들은 모바일과 웹페이지의 코드가 70% 정도 재사용된다고 보고했습니다. 다트는 네이티브 코드나 node.js를 사용하는 자바스크립트로 변환되어 서버에 사용될 수도 있습니다.

결정적으로 다트는 독립적인 가상머신을 제공하여 다트 언어자체가 중간언어가 되도록 합니다.

다트는 AOT 혹은 JIT, 인터프리터 방식으로 효과적이게 컴파일 될 수 있으며 다른 언어로 변환될 수 있습니다. 다트는 실행과 컴파일의 유연성 뿐만아니라 매우 빠릅니다.

다음 섹션에서는 예제를 통해 다트의 컴파일 속도가 어떻게 판도를 뒤집었는지 알아보겠습니다.


### Stateful got reload


## Avoiding jank

### Preemptive scheduling, time slicing, and shared resources

### Allocation and garbage collection

## Unified layout

## Is Dart a proprietary language?

## Will Dart programmers be easy to find?

## Dart2

### The secret is focus

## Conclusion

## Summary
