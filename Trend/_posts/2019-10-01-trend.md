---
layout: post
title: Medium - React Native & Firebase; Authentication
description: >
  <a href="https://medium.com/react-native-training/react-native-firebase-authentication-7652e1d2c8a2">ì›ë¬¸ - faraz amiruddin</a>
author: author
comments: true
---
Trend íŒŒì•…ì„ Medium ê¸°ê³ ë¬¸ ìš”ì•½ í¬ìŠ¤íŒ… - ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì™€ íŒŒì´ì–´ë² ì´ìŠ¤; ì¸ì¦

<center>
<img src="https://miro.medium.com/max/2972/1*shLO1GAdcJoleFYpbczHGQ.png"/>
</center>

ì•ˆë…•í•˜ì„¸ìš”!ğŸ‘‹ğŸ½ ì €ëŠ” AdHawkì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ì¸ Faraz ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì—ì„œ íŒŒì´ì–´ë² ì´ìŠ¤ì˜ ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ” ë²•ì— ëŒ€í•œ ê²ƒì…ë‹ˆë‹¤.

íŒŒì´ì–´ë² ì´ìŠ¤ëŠ” ì—¬ëŸ¬ê°€ì§€ êµ‰ì¥í•œ productë¥¼ ì œê³µí•´ì„œ ìš°ë¦¬ì—ê²Œ ëª¨ë°”ì¼ ì•±ì„ ë¹ ë¥´ê²Œ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤. ê±°ê¸°ì—ëŠ” ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤, ì¸ì¦, í´ë¼ìš°ë“œ Firestore, í´ë¼ìš°ë“œ Functions, Crashlytics ë“±ë“±ì´ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ê°„ë‹¨íˆ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ì„ í•˜ëŠ” ê°„ë‹¨í•œ íë¦„ì„ êµ¬ì„±í•  ê²ƒì…ë‹ˆë‹¤.

ì—¬ê¸°ì„œ í•„ìš”í•œ ê²ƒì€ FirebaseSDKì™€ ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œ ì•±ì…ë‹ˆë‹¤ë§Œ.. ê³ ë§™ê²Œë„ Invertaseì˜ ê´€ê³„ìë¶„ë“¤ì´ react-native-firebaseë¥¼ ë§Œë“¤ì–´ ì£¼ì…¨ìŠµë‹ˆë‹¤. ì´ê²ƒì€ ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì™€ íŒŒì´ì–´ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•´ì£¼ëŠ” ë©‹ì§„ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## Setting Up Our App
ìš°ë¦¬ê°€ ì²˜ìŒë¶€í„° ì‹œì‘í•˜ê¸° ë•Œë¬¸ì— react-native-firebaseì—ì„œ ì œê³µí•˜ëŠ” basic starter kitìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.

ê·¸ë“¤ì˜ ì„¤ëª…ëŒ€ë¡œ ë”°ë¼í•´ì„œ ì•±ì„ ì‹¤í–‰í•˜ì‹œë©´ ì—¬ëŸ¬ë¶„ì€ ì¤€ë¹„ê°€ ëœ ê²ƒì…ë‹ˆë‹¤.

## Enable Email & Password Authentication in Firebase
ë‹¤ìŒì€ ìš°ë¦¬ê°€ ë§Œë“¤ë ¤ê³  í•˜ëŠ” íë¦„ì— ëŒ€í•œ ë‹¤ì´ì–´ê·¸ë¨ì…ë‹ˆë‹¤.
<center>
<img src="https://miro.medium.com/max/1282/1*mJpDhhE-fOLnPzQhpKin4w.png"/>
</center>
A flow diagram of what weâ€™re building
{:.figure}

ì‚¬ìš©ìì—ê²Œ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¸íŠ¸ë¡œ ì‚¬ìš©í•˜ë„ë¡ í•˜ë ¤ë©´ íŒŒì´ì–´ë² ì´ìŠ¤ ì½˜ì†”ì—ì„œ ì„¤ì •ì„ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

ì´ê²ƒì„ í•˜ê¸°ìœ„í•´ ì—¬ëŸ¬ë¶„ì˜ íŒŒì´ì–´ë² ì´ìŠ¤ í”„ë¡œì íŠ¸ë¡œê°€ì„œ -> ì¸ì¦ -> ë¡œê·¸ì¸ ë©”ì†Œë¡œ ë“¤ì–´ê°€ì„¸ìš”. Email/Passwordë¥¼ í´ë¦­í•´ì„œ enableë¡œ ë³€ê²½í•˜ì‹œê³  ì €ì¥í•˜ì„¸ìš”. ì—¬ëŸ¬ë¶„ì˜ ëŒ€ì‹œë³´ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì„ ê²ƒì…ë‹ˆë‹¤.
<center>
<img src="https://miro.medium.com/max/1940/1*XZMLm2ZinAhpzJemmmh3jQ.png"/>
</center>
Enabling email and password authentication
{:.figure}

## Creating our Screens
ìš°ë¦¬ì˜ ë‹¤ì´ì–´ê·¸ë¨ì„ ì‚´í´ë³´ë©´ ìš°ë¦¬ì˜ ì•±ì€ 4ê°œì˜ í™”ë©´ì´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì‹¤ ê²ë‹ˆë‹¤. ê·¸ê²ƒë“¤ì€ ë¡œë”©, íšŒì›ê°€ì…, ë¡œê·¸ì¸, ê·¸ë¦¬ê³  ë©”ì¸í™”ë©´ ì…ë‹ˆë‹¤.

ë¡œë”© í™”ë©´ì€ ìš°ë¦¬ê°€ ì‚¬ìš©ìì˜ ì¸ì¦ ë‹¨ê³„ë¥¼ ê²°ì •í•  ë•Œê¹Œì§€ í‘œì‹œë˜ë©° íšŒì›ê°€ì… í™”ë©´ì€ ì‚¬ìš©ìê°€ ê³„ì •ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” í™”ë©´ì´ê³  ë¡œê·¸ì¸ í™”ë©´ì€ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ í•  ìˆ˜ ìˆëŠ” ê³³ì´ë©° ë©”ì¸ í™”ë©´ì€ ìš°ë¦¬ì˜ ì•±ì—ì„œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë¥¼ í‘œì‹œí•´ì¤„ ê³³ì…ë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ì•± ë„¤ë¹„ê²Œì´ì…˜ì— react-navigationì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´ ë„¤ë¹„ê²Œì´í„°ë¥¼ ì„¤ì •í•˜ê³  ìš°ë¦¬ì˜ í™”ë©´ë“¤ì„ ë§Œë“­ì‹œë‹¤.
```
yarn add react-navigation
```
ì´ì œ 4ê°œì˜ í™”ë©´ì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.
### Loading.js

```
// Loading.js
import React from 'react'
import { View, Text, ActivityIndicator, StyleSheet } from 'react-native'
export default class Loading extends React.Component {
  render() {
    return (
      <View style={styles.container}>
        <Text>Loading</Text>
        <ActivityIndicator size="large" />
      </View>
    )
  }
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  }
})
```

### SignUp.js

```
// SignUp.js
import React from 'react'
import { StyleSheet, Text, TextInput, View, Button } from 'react-native'
export default class SignUp extends React.Component {
  state = { email: '', password: '', errorMessage: null }
handleSignUp = () => {
  // TODO: Firebase stuff...
  console.log('handleSignUp')
}
render() {
    return (
      <View style={styles.container}>
        <Text>Sign Up</Text>
        {this.state.errorMessage &&
          <Text style={
            { color: 'red' }
            }>
            {this.state.errorMessage}
          </Text>}
        <TextInput
          placeholder="Email"
          autoCapitalize="none"
          style={styles.textInput}
          onChangeText={email => this.setState({ email })}
          value={this.state.email}
        />
        <TextInput
          secureTextEntry
          placeholder="Password"
          autoCapitalize="none"
          style={styles.textInput}
          onChangeText={password => this.setState({ password })}
          value={this.state.password}
        />
        <Button title="Sign Up" onPress={this.handleSignUp} />
        <Button
          title="Already have an account? Login"
          onPress={() => this.props.navigation.navigate('Login')}
        />
      </View>
    )
  }
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  },
  textInput: {
    height: 40,
    width: '90%',
    borderColor: 'gray',
    borderWidth: 1,
    marginTop: 8
  }
})
```

### Login.js
```
// Login.js
import React from 'react'
import { StyleSheet, Text, TextInput, View, Button } from 'react-native'
export default class Login extends React.Component {
  state = { email: '', password: '', errorMessage: null }
  handleLogin = () => {
    // TODO: Firebase stuff...
    console.log('handleLogin')
  }
  render() {
    return (
      <View style={styles.container}>
        <Text>Login</Text>
        {this.state.errorMessage &&
          <Text style={
            { color: 'red' }
            }>
            {this.state.errorMessage}
          </Text>}
        <TextInput
          style={styles.textInput}
          autoCapitalize="none"
          placeholder="Email"
          onChangeText={email => this.setState({ email })}
          value={this.state.email}
        />
        <TextInput
          secureTextEntry
          style={styles.textInput}
          autoCapitalize="none"
          placeholder="Password"
          onChangeText={password => this.setState({ password })}
          value={this.state.password}
        />
        <Button title="Login" onPress={this.handleLogin} />
        <Button
          title="Don't have an account? Sign Up"
          onPress={() => this.props.navigation.navigate('SignUp')}
        />
      </View>
    )
  }
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  },
  textInput: {
    height: 40,
    width: '90%',
    borderColor: 'gray',
    borderWidth: 1,
    marginTop: 8
  }
})
```

### Main.js
```
// Main.js
import React from 'react'
import { StyleSheet, Platform, Image, Text, View } from 'react-native'
export default class Main extends React.Component {
  state = { currentUser: null }
render() {
    const { currentUser } = this.state
return (
      <View style={styles.container}>
        <Text>
          Hi {currentUser && currentUser.email}!
        </Text>
      </View>
    )
  }
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center'
  }
})
```
ì´ì œ 4ê°œì˜ í™”ë©´ì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆê¹Œ App.jsì— ë„¤ë¹„ê²Œì´ì…˜ì„ ë„£ìì‹œë‹¤.
### App.js
```
import React from 'react'
import { StyleSheet, Platform, Image, Text, View } from 'react-native'
import { SwitchNavigator } from 'react-navigation'
// import the different screens
import Loading from './Loading'
import SignUp from './SignUp'
import Login from './Login'
import Main from './Main'
// create our app's navigation stack
const App = SwitchNavigator(
  {
    Loading,
    SignUp,
    Login,
    Main
  },
  {
    initialRouteName: 'Loading'
  }
)
export default App
```
ìš°ë¦¬ê°€ ì•±ì„ ì‹¤í–‰ì‹œí‚¤ë©´ Loading í™”ë©´ê³¼ ActivityIndicatorê°€ ê³„ì†í•´ì„œ ëŒì•„ê°€ëŠ” ê²ƒì´ ë³´ì¼ ê²ë‹ˆë‹¤. ì´ê²ƒì´ ìš°ë¦¬ê°€ ë°”ë€ ê²ƒì´ë©° ìš°ë¦¬ê°€ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í–ˆëŠ”ì§€ ì•ˆí–ˆëŠ”ì§€ êµ¬ë¶„í•  í•„ìš”ê°€ ìˆê³  ì–´ë–¤ í™”ë©´ìœ¼ë¡œ ë³´ë‚¼ì§€ ê²°ì •í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í–ˆë‹¤ë©´ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ë³´ë‚´ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ íšŒì›ê°€ì… í™”ë©´ìœ¼ë¡œ ë³´ë‚¼ ê²ë‹ˆë‹¤.
## Determining if a user is authenticated
ìš°ë¦¬ëŠ” íŒŒì´ì–´ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì‚¬ìš©ìì˜ ì¸ì¦ìƒíƒœë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œë”© í™”ë©´ì— ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ë˜ì—ˆëŠ”ì§€ ì•„ë‹Œì§€ ì²´í¬í•˜ëŠ” ê²ƒì„ ì¶”ê°€í•©ì‹œë‹¤.
```
// Loading.js
// Omitted other imports...
import firebase from 'react-native-firebase'
export default class Loading extends React.Component {
  componentDidMount() {
    firebase.auth().onAuthStateChanged(user => {
      this.props.navigation.navigate(user ? 'Main' : 'SignUp')
    })
  }
// Omitted the rest of the file...
```
ìš°ë¦¬ëŠ” íŒŒì´ì–´ë² ì´ìŠ¤ì˜ onAuthStateChanged ë¦¬ìŠ¤ë„ˆë¥¼ ì‚¬ìš©í•´ì„œ ì‚¬ìš©ìì˜ í˜„ì¬ auth ìƒíƒœë¥¼ ê°ì§€í•©ë‹ˆë‹¤. ë§Œì•½ ë¡œê·¸ì¸ í–ˆë‹¤ë©´ ë©”ì¸í™”ë©´ìœ¼ë¡œ ë³´ë‚´ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ íšŒì›ê°€ì… í™”ë©´ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.

ì´ì œ ìš°ë¦¬ê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë¡œë“±í™”ë©´ì€ ì ê¹ë§Œ í‘œì‹œë˜ê³  íšŒì›ê°€ì… í™”ë©´ìœ¼ë¡œ ë³´ë‚¼ ê²ƒì…ë‹ˆë‹¤.
## Signing a user up
ìš°ë¦¬ëŠ” ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ë§Œë“¤ì–´ì„œ ê·¸ë“¤ì´ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë„ë¡ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. íšŒì›ê°€ì… í™”ë©´ìœ¼ë¡œ ê°€ì„œ íšŒì›ê°€ì…ì²˜ë¦¬ ë©”ì†Œë“œë¥¼ ì—°ê²°í•©ì‹œë‹¤.
```
// SignUp.js
// Omitted other imports...
import firebase from 'react-native-firebase'
export default class SignUp extends React.Component {
  state = { email: '', password: '', errorMessage: null }
  handleSignUp = () => {
    firebase
      .auth()
      .createUserWithEmailAndPassword(this.state.email, this.state.password)
      .then(() => this.props.navigation.navigate('Main'))
      .catch(error => this.setState({ errorMessage: error.message }))
  }
// Omitted the rest of the file...
```
ì‚¬ìš©ìê°€ ì…ë ¥í˜•ì‹ì„ ì œì¶œí•˜ë©´ ìš°ë¦¬ëŠ” createUserWithEmailAndPasswordë¥¼ ì‹¤í–‰í•˜ê³  ê·¸ë‹¤ìŒ ë©”ì¸í™”ë©´ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ë§Œì•½ ì—ëŸ¬ê°€ ìˆë‹¤ë©´ ìºì¹˜í•˜ì—¬ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
## Displaying the current user on the Main screen
ìš°ë¦¬ì˜ í˜„ì¬ êµ¬í˜„ì—ì„œ ë©”ì¸í™”ë©´ì—ì„œëŠ” ì˜¤ì§ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ë³´ì…ë‹ˆë‹¤. currentUserë¥¼ íŒŒì´ì–´ë² ì´ìŠ¤ë¡œ ê°€ì ¸ì™€ì„œ ê·¸ë“¤ì˜ ì´ë©”ì¼ì„ ë³´ì—¬ì¤„ ê²ë‹ˆë‹¤. ë©”ì¸ í™”ë©´ì´ ì´ê²ƒì„ ì²˜ë¦¬í•˜ë„ë¡ ì—…ë°ì´íŠ¸ í•©ì‹œë‹¤.
```
// Main.js
// Omitted other imports...
import firebase from 'react-native-firebase'
export default class Main extends React.Component {
  state = { currentUser: null }
  componentDidMount() {
    const { currentUser } = firebase.auth()
    this.setState({ currentUser })
}
// Omitted the rest of the file...
```
ì´ì œ ë©”ì¸í™”ë©´ì—ì„œ ìš°ë¦¬ëŠ” ì‚¬ìš©ìì˜ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ì•±ì„ ë‹¤ì‹œì‹œì‘í•˜ë©´ ìš°ë¦¬ëŠ” ìë™ì ìœ¼ë¡œ ë©”ì¸í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë©ë‹ˆë‹¤. ì™œëƒë©´ ì´ë¯¸ ë¡œê·¸ì¸ë˜ì—ˆê¸° ë•Œë¬¸ì´ì£ .

ì´ì œ ì´ë¯¸ ê³„ì •ì´ ìˆëŠ” ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ í•˜ê²Œí•˜ëŠ” ë§ˆì§€ë§‰ ê³¼ì •ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤.
## Logging an already existing user in
ë¡œê·¸ì¸ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•´ì„œ ê³„ì •ì´ ìˆëŠ” ì‚¬ëŒë“¤ì´ ë¡œê·¸ì¸ í•  ìˆ˜ ìˆë„ë¡ í•©ì‹œë‹¤.
```
// Login.js
// Omitted other imports...
import firebase from 'react-native-firebase'
export default class Login extends React.Component {
  state = { email: '', password: '', errorMessage: null }
  handleLogin = () => {
    const { email, pasword } = this.state
    firebase
      .auth()
      .signInWithEmailAndPassword(email, password)
      .then(() => this.props.navigation.navigate('Main'))
      .catch(error => this.setState({ errorMessage: error.message }))
  }
// Omitted the rest of the file...
```
ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.

ì´ì œ ì—¬ëŸ¬ë¶„ì€ íŒŒì´ì–´ë² ì´ìŠ¤ì™€ ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œë¡œ ê°„ë‹¨í•œ ì¸ì¦ íë¦„ì„ ê²½í—˜í•˜ì‹  ê²ë‹ˆë‹¤. ë‹¤ìŒ <a href="https://github.com/faahmad/react-native-firebase-auth">ë§í¬</a>ì—ì„œ ì „ì²´ ì†ŒìŠ¤ì½”ë“œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
## Summary
* react-naitve-firebaseë¥¼ ì‚¬ìš©í•´ì„œ ê°„ë‹¨í•œ ì¸ì¦ì„ êµ¬í˜„í•˜ëŠ” ì˜ˆì œ
